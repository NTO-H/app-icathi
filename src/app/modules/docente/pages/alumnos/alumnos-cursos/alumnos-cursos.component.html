<div class="container mx-auto px-4 py-6">
  <h2 class="text-2xl font-semibold mb-4">Calificaciones del Curso</h2>

  <div class="mb-6">
    <select
      class="block w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-500"
      [(ngModel)]="selectedCourse"
      (change)="onCourseChange($event)"
    >
      <option *ngFor="let course of cursos" [value]="course.id">
        {{ course.curso_nombre }}
      </option>
    </select>
  </div>

  <div class="mb-6">
    <p class="text-sm text-gray-600">
      Curso seleccionado:
      <span class="font-medium">{{ selectedCourseName }}</span>
    </p>
  </div>

  <div class="overflow-x-auto">
    <table class="w-full table-auto border-collapse border border-gray-300">
      <thead>
        <tr class="bg-gray-50">
          <th class="p-3 text-left border border-gray-300">Nombre</th>
          <th class="p-3 text-left border border-gray-300">Apellido</th>
          <th class="p-3 text-left border border-gray-300">Email</th>
          <th class="p-3 text-center border border-gray-300">Promedio</th>
          <th class="p-3 text-center border border-gray-300">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of filteredStudents" class="hover:bg-gray-100">
          <td class="p-3 border border-gray-300">
            {{ student.alumno_nombre }}
          </td>
          <td class="p-3 border border-gray-300">
            {{ student.alumno_apellidos }}
          </td>
          <td class="p-3 border border-gray-300">{{ student.alumno_email }}</td>
          <td class="p-3 text-center border border-gray-300">
            {{ student.calificacion }}
          </td>
          <td class="p-3 text-center border border-gray-300">
            <button
              class="px-3 py-2 bg-gray-100 text-gray-700 rounded-md border border-gray-300 hover:bg-gray-200 focus:outline-none focus:ring focus:ring-gray-300"
              (click)="modifyGrade(student)"
            >
              Modificar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
